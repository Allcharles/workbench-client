<!-- Project Details -->
<ng-container *ngIf="project && !error">
  <h1>{{ project.name }}</h1>
  <div class="row">
    <div class="col-sm-4">
      <div class="thumbnail">
        <img [src]="project.image" [alt]="project.name + ' image'" />
      </div>
    </div>
    <div class="col-sm-8">
      <p id="project_description" [innerHTML]="project.descriptionHtml"></p>
    </div>
  </div>

  <!-- Sites -->
  <h2>Sites</h2>

  <baw-debounce-input
    label="Filter"
    placeholder="Filter Sites"
    [default]="filter"
    (filter)="onFilter($event)"
  ></baw-debounce-input>

  <baw-loading [display]="loading"></baw-loading>

  <div id="sites">
    <!-- Google Maps -->
    <div class="item map">
      <baw-map [markers]="markers"></baw-map>
    </div>

    <ng-container *ngIf="!loading">
      <!-- Sites Exist -->
      <ng-container *ngIf="sites.size > 0; else empty">
        <div *ngFor="let site of sites" class="item">
          <app-site-card [project]="project" [site]="site"></app-site-card>
        </div>
      </ng-container>

      <!-- Sites Don't Exist-->
      <ng-template #empty>
        <p id="site_placeholder">No sites associated with this project</p>
      </ng-template>
    </ng-container>
  </div>

  <ngb-pagination
    *ngIf="displayPagination"
    aria-label="Pagination Buttons"
    class="mt-2 d-flex justify-content-end"
    [collectionSize]="collectionSize"
    [(page)]="page"
  ></ngb-pagination>
</ng-container>
<baw-error-handler *ngIf="error" [error]="error"></baw-error-handler>
